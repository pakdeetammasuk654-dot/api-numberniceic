<div class="card">
    <h1 class="text-center">üîç ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏á‡∏Ñ‡∏•</h1>
    <form action="/analysis" method="POST">
        <label><strong>‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• (‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢):</strong></label>
        <input type="text" name="name" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÉ‡∏à‡∏î‡∏µ ‡∏°‡∏µ‡∏™‡∏∏‡∏Ç" required value="{{if .Name}}{{.Name}}{{end}}">
        <button type="submit" class="btn btn-success">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</button>
    </form>
</div>

{{if .Error}}
    <div class="text-center text-danger mt-3">‚ö†Ô∏è {{.Error}}</div>
{{end}}

{{if .Result}}
    <div class="card">
        <h2 class="header-line">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: {{.Result.Name}}</h2>
        <div class="result-container">

            <div class="result-col" style="background-color: #e3f2fd; padding: 20px; border-radius: 8px; border: 1px solid #bbdefb;">
                <h3 style="color: #0277bd; margin-top: 0;">üßÆ ‡πÄ‡∏•‡∏Ç‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</h3>
                <table>
                    <tr><th>‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£</th><th>‡∏Ñ‡πà‡∏≤</th></tr>
                    {{range .Result.SatValues}}
                        {{range $key, $value := .}}
                            <tr><td>{{$key}}</td><td><span class="badge">{{$value}}</span></td></tr>
                        {{end}}
                    {{end}}
                </table>
                <div style="margin-top: 20px; border-top: 2px dashed #90caf9; padding-top: 15px;">
                    <p style="font-size: 1.2rem;"><strong>‡∏ú‡∏•‡∏£‡∏ß‡∏°:</strong> <span style="color: #0277bd; font-weight: bold;">{{.Result.SatSum}}</span></p>

                    <p><strong>‡∏Ñ‡∏π‡πà‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•:</strong></p>
                    {{range .Result.SatPairs}}
                        <div style="background: white; padding: 10px; margin-bottom: 10px; border-radius: 5px; border-left: 5px solid #ffc107;">
                            <span class="badge" style="font-size: 1.2rem; background: #ffc107; color: black;">{{.Pair}}</span>
                            {{if .Meaning}}
                                <div style="margin-top: 5px; font-size: 0.95rem; color: #555;">
                                    <strong>‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢:</strong> {{.Meaning.MiracleDesc}}
                                    <br>
                                    <small style="color: #888;">(‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: {{.Meaning.PairPoint}})</small>
                                </div>
                            {{else}}
                                <div style="color: #999; font-size: 0.9rem;">- ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -</div>
                            {{end}}
                        </div>
                    {{end}}
                </div>
            </div>

            <div class="result-col" style="background-color: #f3e5f5; padding: 20px; border-radius: 8px; border: 1px solid #e1bee7;">
                <h3 style="color: #7b1fa2; margin-top: 0;">üåë ‡πÄ‡∏•‡∏Ç‡∏û‡∏•‡∏±‡∏á‡πÄ‡∏á‡∏≤</h3>
                <table>
                    <tr><th>‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£</th><th>‡∏Ñ‡πà‡∏≤</th></tr>
                    {{range .Result.ShaValues}}
                        {{range $key, $value := .}}
                            <tr><td>{{$key}}</td><td><span class="badge badge-sha">{{$value}}</span></td></tr>
                        {{end}}
                    {{end}}
                </table>
                <div style="margin-top: 20px; border-top: 2px dashed #ce93d8; padding-top: 15px;">
                    <p style="font-size: 1.2rem;"><strong>‡∏ú‡∏•‡∏£‡∏ß‡∏°:</strong> <span style="color: #7b1fa2; font-weight: bold;">{{.Result.ShaSum}}</span></p>

                    <p><strong>‡∏Ñ‡∏π‡πà‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•:</strong></p>
                    {{range .Result.ShaPairs}}
                        <div style="background: white; padding: 10px; margin-bottom: 10px; border-radius: 5px; border-left: 5px solid #9c27b0;">
                            <span class="badge badge-sha" style="font-size: 1.2rem; background: #9c27b0;">{{.Pair}}</span>
                            {{if .Meaning}}
                                <div style="margin-top: 5px; font-size: 0.95rem; color: #555;">
                                    <strong>‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢:</strong> {{.Meaning.MiracleDesc}}
                                    <br>
                                    <small style="color: #888;">(‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: {{.Meaning.PairPoint}})</small>
                                </div>
                            {{else}}
                                <div style="color: #999; font-size: 0.9rem;">- ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -</div>
                            {{end}}
                        </div>
                    {{end}}
                </div>
            </div>

        </div>
    </div>
{{end}}